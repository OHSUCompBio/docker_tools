<tool id="westgard" name="Westgard Multirule QC" version="0.3.2">
    <description>Performs Westgard Multirule QC on raw DSP data on specified TMA and Probe combo</description>
    <requirements>
      <requirement type="package" version="1.21.5">numpy</requirement>
      <requirement type="package" version="1.4.2">pandas</requirement>
      <requirement type="package" version="2022.3.15">regex</requirement>
      <requirement type="package" version="3.5.1">matplotlib</requirement>
      <requirement type="package" version="3.0.9">openpyxl</requirement>
      <requirement type="package" version="3.5.68">reportlab</requirement>
    </requirements>
    <command detect_errors="exit_code"><![CDATA[
    ln -s $dsp_tma_results tma_results.csv &&
    ln -s $dsp_tma_combos tma_combos.csv &&
    python $__tool_directory__/westgard.py tma_results.csv tma_combos.csv $qc_report $qc_stdout
]]>
    </command>
    <inputs>
        <param type="data" name="dsp_tma_results" label="TMA abundance counts" format="csv"/>
        <param type="data" name="dsp_tma_combos" label="TMA/Ab combinations" format="csv"/>
    </inputs>
    <outputs>
        <data format="pdf" name="qc_report" label="Levey-Jennings Plots"/>
        <data format="txt" name="qc_stdout" label="Westgard Rules Report"/>
    </outputs>
    <help></help>
</tool>
