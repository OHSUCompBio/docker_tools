<tool id="evai_vcf_concat" name="eVai VCF concatenate" version="0.0.2">
	<description>Concatenates SV and CNV VCFs for eVai</description>
	<requirements>
        <requirement type="package" version="1.19">bioconda-bcftools</requirement>
		<requirement type="package" version="1.10">bioconda-samtools</requirement>
        <requirement type="package" version="4.5.0.0">bioconda-gatk4</requirement>
	</requirements>
	<command><![CDATA[
        bgzip -c ${sv_vcf} > sample_sv.vcf.gz
		bcftools index -t sample_sv.vcf.gz
		bgzip -c ${cnv_vcf}  > sample_cnv.vcf.gz
		bcftools index -t sample_cnv.vcf.gz

		bcftools concat -O v \
			-o ${sv_cnv_concat} \
			-a \
			sample_sv.vcf.gz sample_cnv.vcf.gz;

		sed -i'' -e 's/<DIP>/./g' ${sv_cnv_concat}
	]]>
	</command>
	<inputs>
        <param name="sample_id" type="text" label="Sample ID"/>
		<param name="sv_vcf" type="data" format="vcf" label="SNV/Indel VCF"/>
        <param name="cnv_vcf" type="data" format="vcf" label="CNV VCF"/>
	</inputs>

	<outputs>
        <data name="sv_cnv_concat" format="vcf" label="${sample_id}_concat: vcf"/>
	</outputs>

	<help></help>
</tool>

